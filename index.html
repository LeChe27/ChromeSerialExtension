<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Chrome Serial Bridge</title>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!-- <script src="chromeSerial.js" defer></script> -->
    </head>
    <body>
            <div class="btn-group">
                <button class="btn-mcu" id="test-mcu-button"">
                    <i class="fa fa-usb" aria-hidden="true"></i>
                    <span class="toolbar-btn-label">Test</span>
                </button>
            </div>
            <script>
                document.getElementById("test-mcu-button").addEventListener("click", () => {
                    window.postMessage({ type: "WALT3_CLIENT", text: "Hello from the webpage!" }, "*");
                }, false);
                                                                                                  
                window.addEventListener("message", function (event) {
                    if (event.data.type && (event.data.type == "WALT3_GATEWAY")) {
                        console.log("CSE From: " + event.origin)
                        console.log("CSE Event Source   : " + event.source);
                        console.log("CSE Event Data Type: " + event.data.type);
                        console.log("CSE Event Data Text: " + event.data.text);
                    }
                }, false);
            </script>
    </body>
</html>
